!function(){const a="_wulastsession",c="https://tracking.woowup.com/web-tracking/track";function i(e,t,n,a){k.config=Object.assign({},w,k.config),k._publicKey=e||k._publicKey,k._metadata=n||k._metadata;var r,i,o=s();o&&(e={publicKey:e,wuid:o,event:t,sessionId:d(),userAgent:window.navigator.userAgent,provider:u(),origin:window.location.href,referrer:document.referrer,utms:{source:l("utm_source"),medium:l("utm_medium"),campaign:l("utm_campaign"),term:l("utm_term")},metadata:n||{}},o=c,t=e,r=a,(i=new XMLHttpRequest).open("POST",o),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Accept","application/json"),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?r&&"function"==typeof r&&r():400<=i.status&&console.log("Request failed.  Returned status of "+i.status+". Text: "+i.responseText))},i.send(JSON.stringify(t)))}function n(e){return"_"+e}function u(){return e()?"vtex":"custom"}function s(){var e=window.WU.config.identifier;let t=l(e);return t?(window.localStorage.setItem(n(e),t),t):(t=window.localStorage.getItem(n(e)))||null}function d(){var e=window.localStorage.getItem(a);let t=e,n=new Date;return(!e||n.getTime()-new Date(e).getTime()>1e3*window.WU.config.sessionDuration)&&(window.localStorage.setItem(a,n.toISOString()),t=n.toISOString()),(e=new Date(t)).getUTCFullYear()+(e.getUTCMonth()+1).toString().padStart(2,"0")+e.getUTCDate().toString().padStart(2,"0")+e.getUTCHours().toString().padStart(2,"0")}function l(e,t){if(!e)return null;t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}function e(){return"Vtex"in window||"vtex"in window}function o(e,t){var n=k._trackPriceProductVTEXField,a=k._trackListPriceProductVTEXField,r=a in t&&t[a];return e.price=r?t[a]:t[n],e.offer_price=r?t[n]:null,e.price===e.offer_price&&(e.offer_price=null),e}function r(e){if(e)try{const r=getSkuData(e);var t,n=k._trackProductVTEXField,a=k._trackParentProductVTEXField;r&&n in r&&r[n]&&(t=r[n],a in r&&r[a]&&(k._metadata.parentId=r[a].toString()),t&&-1==k._vtexUniqueSkus.indexOf(t)&&(k._metadata.sku=t,k._metadata=o(k._metadata,r),k._vtexUniqueSkus.push(t),i(k._publicKey,"product-view",k._metadata,k._callback)))}catch(e){console.error(e)}}function f(e){try{(t=e.newSkuId)&&skuJson&&"skus"in skuJson&&skuJson.skus.length&&skuJson.skus.find(function(e){return 1==e.available&&e.sku==t})?r(e.newSkuId):console.info("[WU] The product "+e.newSkuId+" is not available")}catch(e){console.error(e)}var t}var g,k={};let w={sessionDuration:3600,identifier:"wuid"};k.config=Object.assign({},w),k.track=i,k.trackProductVTEX=function(e,t,n){k._publicKey=e||k._publicKey,k._metadata=t||k._metadata,k._callback=n||k._callback;var a=setInterval(function(){var e;"undefined"!=typeof getSkuData&&(r(skuJson&&"skus"in skuJson&&skuJson.skus.length&&(e=skuJson.skus.find(function(e){return 1==e.available}))?e.sku:null),clearInterval(a))},50)},k._trackVTEX=r,k.addPriceMetadataInfoVTEX=o,k.getProvider=u,k._trackProductVTEXField="reference",k._trackParentProductVTEXField="idProduct",k._trackPriceProductVTEXField="price",k._trackListPriceProductVTEXField="listPrice",k._publicKey=null,k._metadata={},k._callback=void 0,window.WU=k,e()&&(k._vtexUniqueSkus=[],g=setInterval(function(){var e,t;void 0!==window.Vtex&&(e="skuSelectionChanged",t="WoowUpVTEXTrackingSKUChanged",t=new Vtex.JSEvents.Listener(t,f),skuEventDispatcher.addListener(e,t),clearInterval(g))},50)),s(),d()}();